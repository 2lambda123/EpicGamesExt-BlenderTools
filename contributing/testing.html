<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Help Test | Documentation</title><meta name="description" content="Blender addons that improve the game development workflow between Blender and Unreal.">
    <link rel="preload" href="/BlenderTools/assets/style-54c4e5ec.css" as="style"><link rel="stylesheet" href="/BlenderTools/assets/style-54c4e5ec.css">
    <link rel="modulepreload" href="/BlenderTools/assets/app-e6168212.js"><link rel="modulepreload" href="/BlenderTools/assets/testing.html-a9a965b1.js"><link rel="modulepreload" href="/BlenderTools/assets/testing.html-f6bc0e6d.js"><link rel="prefetch" href="/BlenderTools/assets/index.html-b988aebb.js" as="script"><link rel="prefetch" href="/BlenderTools/assets/development.html-fc23b064.js" as="script"><link rel="prefetch" href="/BlenderTools/assets/documentation.html-73f751e6.js" as="script"><link rel="prefetch" href="/BlenderTools/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/BlenderTools/assets/index.html-209f50d5.js" as="script"><link rel="prefetch" href="/BlenderTools/assets/development.html-bd16c1d2.js" as="script"><link rel="prefetch" href="/BlenderTools/assets/documentation.html-2b368895.js" as="script"><link rel="prefetch" href="/BlenderTools/assets/404.html-0a28231d.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/BlenderTools/" class=""><!----><span class="site-name">Documentation</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/BlenderTools/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/EpicGames/BlenderTools" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/BlenderTools/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/EpicGames/BlenderTools" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Blender <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/BlenderTools/" class="sidebar-item" aria-label="Addons"><!--[--><!--]--> Addons <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">Contributing <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/BlenderTools/contributing/development.html" class="sidebar-item" aria-label="Help Develop"><!--[--><!--]--> Help Develop <!--[--><!--]--></a><!----></li><li><a href="/BlenderTools/contributing/documentation.html" class="sidebar-item" aria-label="Help Document"><!--[--><!--]--> Help Document <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BlenderTools/contributing/testing.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Help Test"><!--[--><!--]--> Help Test <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/BlenderTools/contributing/testing.html#testing-against-open-app-instances" class="router-link-active router-link-exact-active sidebar-item" aria-label="Testing Against Open App Instances"><!--[--><!--]--> Testing Against Open App Instances <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BlenderTools/contributing/testing.html#testing-against-docker-containers" class="router-link-active router-link-exact-active sidebar-item" aria-label="Testing Against Docker Containers"><!--[--><!--]--> Testing Against Docker Containers <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/BlenderTools/contributing/testing.html#view-test-results" class="router-link-active router-link-exact-active sidebar-item" aria-label="View Test Results"><!--[--><!--]--> View Test Results <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/BlenderTools/contributing/testing.html#xunit-files" class="router-link-active router-link-exact-active sidebar-item" aria-label="XUnit Files"><!--[--><!--]--> XUnit Files <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/BlenderTools/contributing/testing.html#environment-variables" class="router-link-active router-link-exact-active sidebar-item" aria-label="Environment Variables"><!--[--><!--]--> Environment Variables <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="help-test" tabindex="-1"><a class="header-anchor" href="#help-test" aria-hidden="true">#</a> Help Test</h1><p>Testing can be done locally with your open Blender and Unreal Editor instances or with <a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> containers. First install the requirements.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pip <span class="token function">install</span> <span class="token parameter variable">-r</span> requirements.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="testing-against-open-app-instances" tabindex="-1"><a class="header-anchor" href="#testing-against-open-app-instances" aria-hidden="true">#</a> Testing Against Open App Instances</h2><ol><li>Open Blender</li><li>Open your Unreal Project and make sure <code>remote execution</code> is enabled.</li><li>Install the addons.</li><li>Start the RPC server <code>Pipeline &gt; Utilities &gt; Start RPC Servers</code>.</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ./tests
python run_tests.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Testing should begin.</p><h2 id="testing-against-docker-containers" tabindex="-1"><a class="header-anchor" href="#testing-against-docker-containers" aria-hidden="true">#</a> Testing Against Docker Containers</h2><p>The CI/CD system tests against the docker images. The containers are Linux.</p><div class="custom-container tip"><p class="custom-container-title">Windows Users</p><p>You will need to install <a href="https://docs.microsoft.com/en-us/windows/wsl/install" target="_blank" rel="noopener noreferrer">Windows Subsystem for Linux<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. Then install <a href="https://ubuntu.com/tutorials/install-ubuntu-on-wsl2-on-windows-10" target="_blank" rel="noopener noreferrer">Ubuntu on Windows<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><ol><li>Install <a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</li><li>Make sure docker is working by running <code>docker images</code>.</li><li>Set the environment variable <code>TEST_ENVIRONMENT=1</code>.</li><li>Set the environment variable <code>GITHUB_TOKEN=your-personal access-token</code>. This is needed to pull the <a href="https://docs.unrealengine.com/4.27/en-US/SharingAndReleasing/Containers/ContainersQuickStart/" target="_blank" rel="noopener noreferrer">unreal container image<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> if you don&#39;t already have it.</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">set</span> <span class="token assign-left variable">GITHUB_TOKEN</span><span class="token operator">=</span>your-personal access-token
<span class="token builtin class-name">set</span> <span class="token assign-left variable">TEST_ENVIRONMENT</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token builtin class-name">cd</span> ./tests
python run_tests.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Testing should begin.</p><div class="custom-container tip"><p class="custom-container-title">Note</p><p>If the you don&#39;t have the docker images already pulled this can take a while to pull the images.</p></div><h2 id="view-test-results" tabindex="-1"><a class="header-anchor" href="#view-test-results" aria-hidden="true">#</a> View Test Results</h2><p>The tests will run for a while and when they finish you should receive output like this indicating there were no failures.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>----------------------------------------------------------------------
Ran 74 tests in 917.496s

OK (skipped=30)

Generating XML reports...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="xunit-files" tabindex="-1"><a class="header-anchor" href="#xunit-files" aria-hidden="true">#</a> XUnit Files</h3><p>The test runner will also output the results as xunit files to the <code>./tests/results</code> folder.</p><p>A handy cli tool for viewing xml unittest results is <a href="https://www.npmjs.com/package/xunit-viewer" target="_blank" rel="noopener noreferrer">xunit-viewer<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. If you wish you can install it and run:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>xunit-viewer <span class="token parameter variable">-r</span> ./results
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>A <code>index.html</code> should now be available to view in the <code>tests</code> folder.</p><h2 id="environment-variables" tabindex="-1"><a class="header-anchor" href="#environment-variables" aria-hidden="true">#</a> Environment Variables</h2><p>The <code>run_tests.py</code> script can be customized with environment variables. You probably won&#39;t ever need to modify these from their defaults, however, since there are so many unit tests, targeting specific files with the <code>EXCLUSIVE_TEST_FILES</code> or specific cases with <code>EXCLUSIVE_TESTS</code> can be beneficial.</p><table><thead><tr><th>Variables</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>TEST_ENVIRONMENT</code></td><td>Whether to run the in the container test environment</td><td>If no value is set, testing will run on the host</td></tr><tr><td><code>EXCLUSIVE_TEST_FILES</code></td><td>Whether to run tests exclusively on this list of test files. Comma seperated list.</td><td>Runs all tests files by default</td></tr><tr><td><code>EXCLUSIVE_TESTS</code></td><td>Whether to run tests exclusively on this list of test names. Comma seperated list.</td><td>Runs all tests cases by default</td></tr><tr><td><code>REMOVE_CONTAINERS</code></td><td>Whether to shutdown and remove the containers after testing. Testing will be faster if the containers don&#39;t have to restart</td><td><code>True</code> by default. Leave blank if you want the containers to keep running</td></tr><tr><td><code>BLENDER_ADDONS</code></td><td>A comma seperated list of the addons to test</td><td><code>send2ue,ue2rigify</code></td></tr><tr><td><code>BLENDER_PORT</code></td><td>The port blender communicates on</td><td><code>9997</code> on host <code>8997</code> for container</td></tr><tr><td><code>UNREAL_PORT</code></td><td>The port unreal communicates on</td><td><code>9998</code> on host <code>8998</code> for container</td></tr><tr><td><code>HOST_REPO_FOLDER</code></td><td>The path on disk to the repo</td><td>The repo folder relative to the current working directory</td></tr><tr><td><code>CONTAINER_REPO_FOLDER</code></td><td>The path in the container where the repo is mounted</td><td><code>/tmp/blender_tools/</code></td></tr><tr><td><code>HOST_TEST_FOLDER</code></td><td>The path on disk to the repo tests folder</td><td>The current working directory</td></tr><tr><td><code>CONTAINER_TEST_FOLDER</code></td><td>The path in the container where the repo tests folder is mounted</td><td><code>/tmp/blender_tools/tests</code></td></tr><tr><td><code>RPC_TIME_OUT</code></td><td>When running a Non-Blocking server, the is a timeout value for command execution. If a command has been sent from the client, the server will try to give the client the response up until 20 seconds has passed. Once the response or timeout has been reached, the server will let the event loop of the DCC continue again.</td><td><code>20</code></td></tr><tr><td><code>RPC_EXECUTION_HISTORY_FILE</code></td><td>Lets you specify a file path to write out the python execution history by the rpc module. This is useful for debugging.</td><td><code>None</code></td></tr></tbody></table></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/EpicGames/BlenderTools/edit/main/docs/main/contributing/testing.md" rel="noopener noreferrer" target="_blank" aria-label="Help us improve this page!"><!--[--><!--]--> Help us improve this page! <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/BlenderTools/contributing/documentation.html" class="" aria-label="Help Document"><!--[--><!--]--> Help Document <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/BlenderTools/assets/app-e6168212.js" defer></script>
  </body>
</html>
